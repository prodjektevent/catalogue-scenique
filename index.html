<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATALOGUE SCÉNIQUE | PRODJEKT</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* --- STYLE GLOBAL --- */
        :root { --primary: #2D5BFF; --accent: #e0005b; --text-main: #ffffff; --text-muted: #cccccc; --glass: rgba(255, 255, 255, 0.05); --glass-border: rgba(255, 255, 255, 0.15); --footer-bg: rgba(10, 10, 10, 0.95); }
        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; font-family: 'Space Grotesk', sans-serif; }
        body { background-color: #050505; color: var(--text-main); overflow-x: hidden; cursor: none; }
        a, button, input, textarea, select { cursor: none; }
        a { text-decoration: none; color: inherit; transition: 0.3s; }
        ul { list-style: none; padding: 0; margin: 0; }
        html { scroll-behavior: smooth; background-color: #000; scroll-padding-top: 100px; }

        /* CURSEUR */
        .cursor-dot { width: 8px; height: 8px; background-color: white; position: fixed; top: 0; left: 0; transform: translate(-50%, -50%); border-radius: 50%; z-index: 9999; pointer-events: none; box-shadow: 0 0 10px white; }
        .cursor-outline { width: 40px; height: 40px; border: 2px solid var(--accent); position: fixed; top: 0; left: 0; transform: translate(-50%, -50%); border-radius: 50%; z-index: 9998; pointer-events: none; transition: width 0.2s, height 0.2s, background-color 0.2s; box-shadow: 0 0 20px rgba(224, 0, 91, 0.3); }
        body.hovering .cursor-outline { width: 70px; height: 70px; background-color: rgba(224, 0, 91, 0.1); border-color: white; mix-blend-mode: screen; }

        /* FOND VIDEO */
        .global-video-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -10; }
        .global-video-container video { width: 100%; height: 100%; object-fit: cover; }
        .global-video-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(5, 5, 5, 0.7); z-index: -9; }

        /* HEADER */
        header { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); width: 95%; max-width: 1200px; padding: 10px 30px; background: rgba(20, 20, 20, 0.6); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); border-radius: 100px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .logo-img { max-height: 45px; width: auto; display: block; }
        .desktop-nav ul { display: flex; gap: 30px; }
        .desktop-nav a { color: var(--text-muted); font-size: 0.85rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; position: relative; }
        .desktop-nav a:hover, .desktop-nav a.active { color: white; }
        .desktop-nav a::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0%; height: 2px; background: var(--accent); transition: 0.3s; }
        .desktop-nav a:hover::after { width: 100%; }
        .burger-menu-btn { display: none; font-size: 1.5rem; color: white; cursor: pointer; margin-left: 15px; }
        .cta-btn { background: white; color: black; padding: 10px 25px; border-radius: 50px; font-weight: 700; font-size: 0.85rem; transition: 0.4s; border: 1px solid white; white-space: nowrap; animation: pulseBtn 3s infinite; }
        @keyframes pulseBtn { 0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); } }
        .cta-btn:hover { background: var(--accent); border-color: var(--accent); color: white; box-shadow: 0 0 20px rgba(224, 0, 91, 0.6); transform: translateY(-2px); animation: none; }

        .mobile-menu-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: rgba(10, 10, 10, 0.98); backdrop-filter: blur(15px); z-index: 1001; display: flex; flex-direction: column; justify-content: center; align-items: center; transform: translateX(100%); transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .mobile-menu-overlay.active { transform: translateX(0); }
        .mobile-menu-overlay ul { display: flex; flex-direction: column; gap: 30px; text-align: center; }
        .mobile-menu-overlay a { font-family: 'Syne'; font-size: 2rem; color: white; text-transform: uppercase; }

        /* PAGE TITRE */
        .page-header { padding: 150px 5% 50px; text-align: center; }
        .page-title { font-family: 'Syne'; font-size: 4rem; text-transform: uppercase; margin-bottom: 20px; }
        .text-glow-anim { background: linear-gradient(to right, #ffffff 20%, #e0005b 50%, #2D5BFF 80%, #ffffff 100%); background-size: 200% auto; color: #fff; background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: shine 5s linear infinite; }
        @keyframes shine { to { background-position: 200% center; } }
        .page-subtitle { color: #ccc; max-width: 800px; margin: 0 auto; font-size: 1.2rem; }

        /* FILTRES & GRILLE */
        #filters { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin-bottom: 40px; }
        .filter-btn { background: rgba(255,255,255,0.1); color: #ccc; border: 1px solid var(--glass-border); padding: 10px 20px; border-radius: 50px; cursor: pointer; transition: 0.3s; font-family: 'Space Grotesk'; text-transform: uppercase; font-weight: 600; font-size: 0.8rem; }
        .filter-btn:hover, .filter-btn.active { background: var(--accent); color: white; border-color: var(--accent); }
        #product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; padding: 0 5% 80px; }
        .product-card { background: rgba(255,255,255,0.03); border: 1px solid var(--glass-border); border-radius: 20px; overflow: hidden; transition: 0.4s; cursor: pointer; display: flex; flex-direction: column; }
        .product-card:hover { transform: translateY(-10px); border-color: var(--accent); box-shadow: 0 10px 30px rgba(224,0,91,0.2); }
        .product-img-wrapper { position: relative; overflow: hidden; height: 220px; }
        .product-img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .product-card:hover .product-img { transform: scale(1.1); }
        .zoom-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); background: rgba(0,0,0,0.7); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; items-center; justify-content: center; transition: 0.3s; opacity: 0; }
        .product-card:hover .zoom-icon { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        .product-content { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
        .product-title { font-family: 'Syne'; font-size: 1.3rem; margin-bottom: 10px; color: white; }
        .product-desc { font-size: 0.9rem; color: #999; margin-bottom: 20px; line-height: 1.5; flex-grow: 1; }
        .product-meta { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px; }
        .product-tag { background: rgba(224,0,91,0.2); color: var(--accent); padding: 5px 10px; border-radius: 5px; font-size: 0.75rem; font-weight: 700; }
        .view-details { color: var(--accent); font-weight: 700; font-size: 0.85rem; display: flex; align-items: center; gap: 5px; }

        /* MODALE */
        #details-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); backdrop-filter: blur(10px); z-index: 2000; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: 0.4s; }
        #details-modal.active { opacity: 1; pointer-events: all; }
        .modal-content { background: #0a0a0a; border: 1px solid var(--glass-border); border-radius: 20px; width: 90%; max-width: 1100px; max-height: 90vh; overflow-y: auto; position: relative; padding: 40px; }
        .modal-close { position: absolute; top: 20px; right: 20px; color: white; font-size: 2rem; cursor: pointer; z-index: 2001; }
        .modal-gallery-wrapper { margin-bottom: 30px; }
        .tech-gallery { display: flex; width: 100%; height: 300px; gap: 10px; }
        .tech-item { flex: 1; border-radius: 15px; background-position: center; background-size: cover; background-repeat: no-repeat; transition: all 0.5s ease; filter: grayscale(100%) brightness(0.6); cursor: pointer; position: relative; border: 1px solid rgba(255,255,255,0.1); }
        .tech-item:hover { flex: 4; filter: grayscale(0%) brightness(1.1); border-color: var(--accent); }
        .modal-info h3 { font-family: 'Syne'; font-size: 2.5rem; margin-bottom: 10px; color: white; text-transform: uppercase; }
        .specs-list { margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .specs-list li { color: #ccc; font-size: 0.95rem; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; }
        .specs-list li strong { color: white; }

        /* CHART & LIGHTBOX */
        .chart-section { padding: 50px 10%; background: rgba(0,0,0,0.3); margin-bottom: 50px; }
        .chart-container { height: 400px; width: 100%; margin-top: 30px; background: rgba(255,255,255,0.02); border-radius: 20px; padding: 20px; }
        #img-lightbox { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 3000; display: flex; justify-content: center; align-items: center; display: none; }
        #img-lightbox.active { display: flex; }
        #lightbox-img { max-width: 90vw; max-height: 90vh; border: 2px solid var(--accent); border-radius: 10px; }

        /* FORMULAIRE */
        .contact-section { padding: 80px 5%; display: flex; justify-content: center; align-items: center; position: relative; border-top: 1px solid var(--glass-border); }
        .glass-form-container { width: 100%; max-width: 1000px; background: rgba(10, 10, 10, 0.7); border: 1px solid var(--glass-border); border-radius: 30px; padding: 60px; position: relative; overflow: hidden; box-shadow: 0 20px 80px rgba(0,0,0,0.8); backdrop-filter: blur(30px); }
        .glass-form-container::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 3px; background: linear-gradient(90deg, var(--primary), var(--accent)); }
        .form-header { text-align: center; margin-bottom: 50px; }
        .form-header h2 { font-family: 'Syne'; font-size: 2.5rem; margin-bottom: 10px; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .full-width { grid-column: span 2; }
        .input-group { position: relative; margin-bottom: 10px; }
        .input-field { width: 100%; background: rgba(0,0,0,0.4); border: 1px solid #444; padding: 18px 20px; border-radius: 12px; color: white; font-size: 1rem; transition: 0.3s; z-index: 50; position: relative; }
        
        /* CORRECTION INPUT DATE */
        input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(1); cursor: pointer; z-index: 51; }
        
        .input-field:focus { border-color: var(--accent); background: rgba(224,0,91,0.05); box-shadow: 0 0 15px rgba(224,0,91,0.2); }
        .input-label { position: absolute; left: 20px; top: 18px; color: #888; pointer-events: none; transition: 0.3s; font-size: 0.9rem; text-transform: uppercase; font-weight: 600; letter-spacing: 1px; }
        .input-field:focus ~ .input-label, .input-field:not(:placeholder-shown) ~ .input-label { top: -12px; left: 10px; font-size: 0.75rem; color: var(--accent); background: #000; padding: 0 5px; border-radius: 3px; }
        textarea.input-field { resize: vertical; min-height: 150px; }
        select.input-field { appearance: none; color: #ccc; cursor: pointer; }
        select.input-field option { background: #111; color: white; padding: 10px; }
        .submit-btn { width: 100%; padding: 20px; margin-top: 20px; background: linear-gradient(45deg, var(--primary), var(--accent)); border: none; border-radius: 12px; color: white; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; cursor: pointer; transition: 0.3s; z-index: 50; position: relative; cursor: pointer; }
        .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 40px rgba(224, 0, 91, 0.4); }

        /* CASES A COCHER */
        .checkbox-group { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 20px; margin-top: 20px; }
        .checkbox-label { display: flex; align-items: center; gap: 10px; color: #ccc; font-size: 0.9rem; cursor: pointer; }
        .checkbox-input { appearance: none; width: 20px; height: 20px; border: 2px solid #555; border-radius: 4px; background: rgba(0,0,0,0.5); cursor: pointer; position: relative; }
        .checkbox-input:checked { background: var(--accent); border-color: var(--accent); }
        .checkbox-input:checked::after { content: '\f00c'; font-family: 'Font Awesome 5 Free'; font-weight: 900; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 0.8rem; }

        /* FOOTER */
        footer { border-top: 1px solid var(--glass-border); padding: 80px 10% 40px; background: var(--footer-bg); color: var(--text-muted); font-size: 0.95rem; text-align: center; }
        .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 50px; margin-bottom: 60px; }
        .footer-col h4 { color: white; font-family: 'Syne'; margin-bottom: 25px; font-size: 1.2rem; }
        .footer-logo { max-width: 150px; margin: 0 auto 20px auto; display: block; }
        .contact-list li { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 15px; }
        .contact-list li i { color: var(--accent); font-size: 1.1rem; }
        .contact-list li a { color: var(--text-muted); transition: 0.3s; }
        .social-links { display: flex; gap: 15px; justify-content: center; }
        .social-btn { width: 45px; height: 45px; border-radius: 50%; border: 1px solid rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; color: white; transition: 0.3s; }
        .social-btn:hover { background: var(--accent); border-color: var(--accent); transform: translateY(-3px); }
        .copyright { text-align: center; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 30px; font-size: 0.8rem; opacity: 0.6; }

        /* MEDIA QUERIES MOBILE */
        @media (max-width: 768px) {
            header { width: 100%; padding: 10px 15px; border-radius: 0; top: 0; background: rgba(10, 10, 10, 0.9); justify-content: space-between; }
            .logo-img { max-height: 30px; }
            .desktop-nav { display: none; } .burger-menu-btn { display: block; }
            .cta-btn { font-size: 0.7rem; padding: 8px 12px; margin: 0 10px; }
            .page-title { font-size: 2.5rem; }
            .tech-gallery { flex-direction: column; height: 500px; } .tech-item:hover { flex: 2; }
            .modal-content { padding: 20px; width: 95%; }
            .specs-list { grid-template-columns: 1fr; }
            .footer-grid { grid-template-columns: 1fr; }
            .form-grid { grid-template-columns: 1fr; }
            .full-width { grid-column: span 1; }
            .glass-form-container { padding: 20px; }
            
            /* FIX CLIC MOBILE */
            .cursor-dot, .cursor-outline { display: none; }
            body, a, button, input, select, textarea, label { cursor: auto !important; }
        }
    </style>
</head>
<body>

    <div class="cursor-dot" data-cursor-dot></div>
    <div class="cursor-outline" data-cursor-outline></div>

    <div class="global-video-container"><video autoplay muted loop playsinline><source src="https://www.prodjekt.fr/wp-content/uploads/2025/11/1121.mp4" type="video/mp4"></video></div>
    <div class="global-video-overlay"></div>

    <header>
        <a href="index.html" class="logo-wrapper"><img src="https://www.prodjekt.fr/wp-content/uploads/2025/11/Logo-Prodjekt-blanc.png" alt="Logo Prodjekt" class="logo-img"></a>
        <a href="#contact" class="cta-btn">Échangeons sur votre projet</a>
        <div class="burger-menu-btn" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
    </header>

    <div class="mobile-menu-overlay" id="mobileMenu">
        <div style="position: absolute; top: 20px; right: 20px; font-size: 2rem; color: white; cursor: pointer;" onclick="toggleMenu()"><i class="fas fa-times"></i></div>
        <ul><li><a href="realisations.html" onclick="toggleMenu()">Nos réalisations</a></li><li><a href="cle-en-main.html" onclick="toggleMenu()">Clé en main</a></li><li><a href="actualites.html" onclick="toggleMenu()">L'actu</a></li><li><a href="catalogue.html" onclick="toggleMenu()">Catalogue scénique</a></li></ul>
    </div>

    <div class="page-header">
        <h1 class="page-title text-glow-anim">Catalogue Scénique</h1>
        <p class="page-subtitle">Explorez notre parc de structures. Des scènes grandioses aux dômes immersifs.</p>
    </div>

    <div id="filters"></div>
    <div id="product-grid"></div>

    <div class="chart-section">
        <h2 class="text-center text-glow-anim" style="font-family:'Syne'; font-size:2rem; text-align:center; margin-bottom:30px;">COMPARATEUR TECHNIQUE</h2>
        <div id="chart-filters" style="display:flex; justify-content:center; gap:10px; margin-bottom:20px;">
            <button class="filter-btn active" onclick="updateChart('surface', this)">Surface</button>
            <button class="filter-btn" onclick="updateChart('charge', this)">Charge</button>
            <button class="filter-btn" onclick="updateChart('hauteur', this)">Hauteur</button>
        </div>
        <div class="chart-container"><canvas id="comparisonChart"></canvas></div>
    </div>

    <div id="details-modal">
        <div class="modal-content">
            <div class="modal-close" onclick="closeModal()">&times;</div>
            <div class="modal-info"><h3 id="modal-title"></h3><p id="modal-desc" style="color:#ccc; margin-bottom:20px;"></p></div>
            <div id="modal-gallery-container" class="modal-gallery-wrapper"></div>
            <ul id="modal-specs" class="specs-list"></ul>
            <div style="text-align:center; margin-top:30px;"><a href="#contact" class="cta-btn" onclick="prefillContact()">Demander un devis pour ce produit</a></div>
        </div>
    </div>

    <div id="img-lightbox" onclick="closeLightbox()"><img id="lightbox-img" src="" alt=""></div>

    <section id="contact" class="contact-section">
        <div class="glass-form-container">
            <div class="form-header"><h2 class="text-glow-anim">Échangeons sur votre projet</h2><p>Dites-nous tout, nous reviendrons vers vous rapidement.</p></div>
            <form action="https://formsubmit.co/communication@prodjekt.fr" method="POST">
                <input type="text" name="_honey" style="display:none"><input type="hidden" name="_captcha" value="false">
                <div class="form-grid">
                    <div class="input-group"><input type="text" name="Nom" id="nom" class="input-field" placeholder=" " required><label for="nom" class="input-label">Nom</label></div>
                    <div class="input-group"><input type="text" name="Prenom" id="prenom" class="input-field" placeholder=" " required><label for="prenom" class="input-label">Prénom</label></div>
                    <div class="input-group"><input type="text" name="Societe" id="societe" class="input-field" placeholder=" "><label for="societe" class="input-label">Société</label></div>
                    <div class="input-group"><input type="email" name="Email" id="email" class="input-field" placeholder=" " required><label for="email" class="input-label">Email</label></div>
                    <div class="input-group full-width">
                        <select name="Type_Evenement" id="type-event" class="input-field" required>
                            <option value="" disabled selected>Type d'événement</option><option value="Festival">Festival</option><option value="Concert">Concert</option><option value="Inauguration">Inauguration</option><option value="Sport">Evénement sportif</option><option value="Conférence">Conférence</option><option value="Anniversaire">Anniversaire</option><option value="Séminaire">Séminaire</option><option value="Voeux">Vœux</option><option value="Defile">Défilé de mode</option><option value="Autre">Autre</option>
                        </select>
                    </div>
                    <div class="input-group"><input type="tel" name="Telephone" id="tel" class="input-field" placeholder=" "><label for="tel" class="input-label">Téléphone</label></div>
                    <div class="input-group"><input type="text" name="Date" id="date" class="input-field" placeholder=" " onfocus="(this.type='date')" onblur="(this.type='text')"><label for="date" class="input-label">Date de l'événement</label></div>
                    
                    <div class="input-group full-width">
                        <p style="color:#ccc; margin-bottom:15px; font-weight:bold;">J'ai besoin de :</p>
                        <div class="checkbox-group">
                            <label class="checkbox-label"><input type="checkbox" name="Besoin[]" value="Sonorisation" class="checkbox-input"> Sonorisation</label>
                            <label class="checkbox-label"><input type="checkbox" name="Besoin[]" value="Lumière" class="checkbox-input"> Lumière</label>
                        </div>
                    </div>

                    <div class="input-group full-width"><textarea name="Message" id="message" class="input-field" placeholder=" " required></textarea><label for="message" class="input-label">Détails techniques</label></div>
                </div>
                <button type="submit" class="submit-btn">ENVOYER LA DEMANDE <i class="fas fa-paper-plane" style="margin-left:10px;"></i></button>
            </form>
        </div>
    </section>

    <footer>
        <div class="footer-grid">
            <div class="footer-col"><img src="https://www.prodjekt.fr/wp-content/uploads/2025/11/Logo-Prodjekt-blanc.png" alt="PRODJEKT" class="footer-logo"><p>Partenaire technique de référence pour l'événementiel en France. Sonorisation, éclairage, vidéo et structure.</p></div>
            <div class="footer-col"><h4>CONTACT</h4><ul class="contact-list"><li><i class="fas fa-phone-alt"></i> <a href="tel:0391190063">03 91 19 00 63</a></li><li><i class="fas fa-envelope"></i> <a href="mailto:welcome@prodjekt.fr">welcome@prodjekt.fr</a></li><li><i class="fas fa-map-marker-alt"></i> Hauts-de-France / Paris</li></ul></div>
            <div class="footer-col"><h4>SUIVEZ-NOUS</h4><div class="social-links"><a href="https://www.facebook.com/prodjektevent/" target="_blank" class="social-btn"><i class="fab fa-facebook-f"></i></a><a href="https://www.instagram.com/prodjektevent/" target="_blank" class="social-btn"><i class="fab fa-instagram"></i></a><a href="https://fr.linkedin.com/company/prodjekt" target="_blank" class="social-btn"><i class="fab fa-linkedin-in"></i></a></div></div>
        </div>
        <div class="copyright">&copy; 2025 PRODJEKT. Tous droits réservés.</div>
    </footer>

<script>
    function toggleMenu(){document.getElementById('mobileMenu').classList.toggle('active');}

    // DATA PRODUITS
    const products = [
        { category: "Grande Scène", name: "Grande Scène (B100R Prolyte)", description: "Idéale pour les grands festivals.", surface: 240, resistance: 750, charge: 13, hauteur: 9.5, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/img144.jpg", "https://www.prodjekt.fr/wp-content/uploads/2020/03/Touquet-Music-Beach-Festival-2019.jpg", "https://www.prodjekt.fr/wp-content/uploads/2025/07/IMG_5665.jpg"] },
        { category: "Grande Scène", name: "Alpha Stage 80 (Mobile)", description: "Solution mobile rapide.", surface: 82, resistance: 500, charge: 10, hauteur: 6, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/IMG_7008.jpeg", "https://www.prodjekt.fr/wp-content/uploads/2025/09/IMG_7150.jpg", "https://www.prodjekt.fr/wp-content/uploads/2025/06/IMG_5404-1.jpg"] },
        { category: "Arc-Roof", name: "Arc-Roof 14 x 11 HT", description: "Show spectaculaire.", surface: 154, resistance: 750, charge: 5, hauteur: 7.1, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/img174.jpg", "https://www.prodjekt.fr/wp-content/uploads/2025/07/IMG_6684.jpg", "https://www.prodjekt.fr/wp-content/uploads/2025/06/DSC_4079.jpg"] },
        { category: "Arc-Roof", name: "Arc-Roof 10 x 8 HT", description: "Hauteur optimisée.", surface: 80, resistance: 750, charge: 5, hauteur: 4.1, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/img198.jpg"] },
        { category: "Arc-Roof", name: "Arc-Roof 10 x 8", description: "Élégance standard.", surface: 80, resistance: 750, charge: 1.2, hauteur: 4.65, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/img204.jpg"] },
        { category: "Arc-Roof", name: "Arc-Roof 8 x 6", description: "Compacte et polyvalente.", surface: 48, resistance: 750, charge: 1.6, hauteur: 3.65, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/06/IMG_9607.jpg", "https://www.prodjekt.fr/wp-content/uploads/2025/09/img241.jpg", "https://www.prodjekt.fr/wp-content/uploads/2024/05/IMG-20240521-WA0007.jpg"] },
        { category: "Arc-Roof", name: "Arc-Roof 6 x 4", description: "Petit format.", surface: 24, resistance: 750, charge: 1.4, hauteur: 2.74, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/img263.jpg"] },
        { category: "Arc-Roof", name: "Arc-Roof 4 x 4", description: "Régie ou accueil.", surface: 16, resistance: 750, charge: 2, hauteur: 2.74, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/img290.jpg"] },
        { category: "Tunnels & Dômes", name: "Tunnel Roof", description: "Passerelles et entrées.", surface: 40, resistance: 0, charge: 1.5, hauteur: 4.2, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/img294.jpg", "https://www.prodjekt.fr/wp-content/uploads/2025/09/493214185_1267704675196783_3835023914266202788_n.jpg", "https://www.prodjekt.fr/wp-content/uploads/2025/09/492948500_1267601548540429_8350337692759459506_n.jpg"] },
        { category: "Tunnels & Dômes", name: "Dômes (38, 68, 100 m²)", description: "Espaces réceptifs.", surface: 100, resistance: 0, charge: 0, hauteur: 0, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/img319.jpg", "https://www.prodjekt.fr/wp-content/uploads/2025/09/img319.jpg", "https://www.prodjekt.fr/wp-content/uploads/2025/09/IMG_5062.png"] },
        { category: "Tunnels & Dômes", name: "Dôme Géodésique", description: "Esthétique unique.", surface: 95, resistance: 0, charge: 0, hauteur: 5, images: ["https://www.prodjekt.fr/wp-content/uploads/2025/09/img328.jpg"] }
    ];

    // GRILLE
    const grid = document.getElementById('product-grid');
    const filtersDiv = document.getElementById('filters');
    const categories = ['Tous', ...new Set(products.map(p => p.category))];
    let currentCat = 'Tous';

    function renderFilters() {
        filtersDiv.innerHTML = categories.map(cat => `<button class="filter-btn ${cat === currentCat ? 'active' : ''}" onclick="filterProducts('${cat}')">${cat}</button>`).join('');
    }

    function filterProducts(cat) {
        currentCat = cat;
        renderFilters();
        const filtered = cat === 'Tous' ? products : products.filter(p => p.category === cat);
        grid.innerHTML = filtered.map((p, idx) => `
            <div class="product-card" onclick="openModal('${p.name}')">
                <div class="product-img-wrapper">
                    <img src="${p.images[0]}" class="product-img" alt="${p.name}">
                    <div class="zoom-icon"><i class="fas fa-eye"></i></div>
                </div>
                <div class="product-content">
                    <h4 class="product-title">${p.name}</h4>
                    <p class="product-desc">${p.description}</p>
                    <div class="product-meta"><span class="product-tag">${p.surface} m²</span><span class="view-details">Détails <i class="fas fa-arrow-right"></i></span></div>
                </div>
            </div>
        `).join('');
    }

    // MODALE
    const modal = document.getElementById('details-modal');
    function openModal(productName) {
        const p = products.find(prod => prod.name === productName);
        if(!p) return;
        document.getElementById('modal-title').innerText = p.name;
        document.getElementById('modal-desc').innerText = p.description;
        
        const galleryContainer = document.getElementById('modal-gallery-container');
        let galleryHTML = '<div class="tech-gallery">';
        const imgList = p.images && p.images.length > 0 ? p.images : [p.imageUrl];
        
        // Duplication si image unique pour l'effet accordéon
        const finalImages = (imgList.length === 1) ? [imgList[0], imgList[0], imgList[0]] : imgList;

        finalImages.forEach(imgSrc => { 
            galleryHTML += `<div class="tech-item" style="background-image: url('${imgSrc}');" onclick="event.stopPropagation(); openLightbox('${imgSrc}')"></div>`; 
        });
        
        galleryHTML += '</div>';
        galleryContainer.innerHTML = galleryHTML;

        let specs = `<li><strong>Surface :</strong> ${p.surface} m²</li>`;
        if(p.charge) specs += `<li><strong>Charge :</strong> ${p.charge} T</li>`;
        if(p.hauteur) specs += `<li><strong>Hauteur :</strong> ${p.hauteur} m</li>`;
        document.getElementById('modal-specs').innerHTML = specs;
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    function closeModal() { modal.classList.remove('active'); document.body.style.overflow = 'auto'; }
    function prefillContact() {
        const title = document.getElementById('modal-title').innerText;
        document.getElementById('message').value = "Bonjour, je souhaite un devis pour : " + title;
        document.getElementById('contact').scrollIntoView({behavior: 'smooth'});
        closeModal();
    }

    function openLightbox(src) { document.getElementById('lightbox-img').src = src; document.getElementById('img-lightbox').style.display = 'flex'; }
    function closeLightbox() { document.getElementById('img-lightbox').style.display = 'none'; }

    let myChart;
    function updateChart(metric, btn) {
        document.querySelectorAll('#chart-filters button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const ctx = document.getElementById('comparisonChart').getContext('2d');
        const labels = products.map(p => p.name.substring(0, 15) + '...');
        const data = products.map(p => p[metric] || 0);
        if(myChart) myChart.destroy();
        myChart = new Chart(ctx, {
            type: 'bar',
            data: { labels: labels, datasets: [{ label: metric, data: data, backgroundColor: 'rgba(224, 0, 91, 0.5)', borderColor: '#e0005b', borderWidth: 1 }] },
            options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, grid: { color: 'rgba(255,255,255,0.1)' }, ticks: { color: '#ccc' } }, x: { grid: { display: false }, ticks: { color: '#ccc' } } }, plugins: { legend: { display: false } } }
        });
    }

    // CURSEUR
    const cursorDot = document.querySelector('[data-cursor-dot]');
    const cursorOutline = document.querySelector('[data-cursor-outline]');
    window.addEventListener("mousemove", function (e) {
        const posX = e.clientX; const posY = e.clientY;
        cursorDot.style.left = `${posX}px`; cursorDot.style.top = `${posY}px`;
        cursorOutline.animate({ left: `${posX}px`, top: `${posY}px` }, { duration: 500, fill: "forwards" });
    });
    const interactiveElements = document.querySelectorAll('a, button, .product-card, .filter-btn, .tech-item, select, input, textarea');
    interactiveElements.forEach(el => {
        el.addEventListener('mouseenter', () => { document.body.classList.add('hovering'); });
        el.addEventListener('mouseleave', () => { document.body.classList.remove('hovering'); });
    });

    renderFilters(); filterProducts('Tous'); updateChart('surface', document.querySelector('#chart-filters button'));
</script>
</body>
</html>
